{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Cuentas Contables</h2>

    <!-- Tabla de Cuentas -->
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>Codigo</th>
                <th>Número</th>
                <th>Nombre</th>
                <th>Tipo</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for account in accounts %}
            <tr>
                <td>{{ account.codigo }}</td>
                <td>{{ account.numero_cuenta }}</td>
                <td>{{ account.nombre_cuenta }}</td>
                <td>{{ account.tipo_cuenta }}</td>
                <td>
                    <a href="/cuenta/editar/{{ account.id }}" class="btn btn-sm btn-warning">Editar</a>
                    <form method="POST" action="/cuenta/eliminar/{{ account.id }}" class="d-inline">
                        {{ form.hidden_tag() }}
                        <button type="submit" class="btn btn-sm btn-danger">Eliminar</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Formulario para Agregar Cuenta Contable -->
    <h3 class="mt-5">Agregar Cuenta Contable</h3>
    <form method="POST" action="/cuenta_maestra" class="mt-4">
        {{ form.hidden_tag() }}
        
        <!-- Campo: Código -->
        <div class="mb-3">
            <label for="code" class="form-label">Código:</label>
            <input type="text" name="code" id="code" class="form-control" required>
        </div>

        <!-- Campo: Número de Cuenta -->
        <div class="mb-3">
            <label for="numero_cuenta" class="form-label">Número de Cuenta:</label>
            <input type="text" name="numero_cuenta" id="numero_cuenta" class="form-control" required>
        </div>

        <!-- Campo: Nombre de la Cuenta -->
        <div class="mb-3">
            <label for="nombre_cuenta" class="form-label">Nombre de la Cuenta:</label>
            <input type="text" name="nombre_cuenta" id="nombre_cuenta" class="form-control" required>
        </div>

        <!-- Campo: Tipo de Cuenta -->
        <div class="mb-3">
            <label for="tipo_cuenta" class="form-label">Tipo de Cuenta:</label>
            <select name="tipo_cuenta" id="tipo_cuenta" class="form-select" required>
                <option value="Gasto">Gasto</option>
            </select>
        </div>

        <!-- Botón de Enviar -->
        <button type="submit" class="btn btn-primary">Agregar</button>
    </form>
</div>
{% endblock %}
